{"version":3,"sources":["components/Header.js","img/undraw_Profile_re_4a55.svg","components/Home.js","redux/actions.js","components/Message.js","components/Registration.js","components/LoginPage.js","img/undraw_feeling_proud_qne1.svg","components/FreePage.js","img/undraw_security_o890.svg","components/ProtectedPage.js","components/AdminPanel.js","components/TEST.js","components/LogOutPage.js","components/Account.js","App.js","redux/reducer.js","redux/store.js","redux/tokenEnhancer.js","index.js"],"names":["Header","user","className","to","type","id","Home","src","homeImg","alt","SET_USER","SET_TOKEN","LOGOUT","SET_ERROR","url","setUser","payload","setToken","token","logOut","setError","isError","getUser","dispatch","fetch","method","headers","Authorization","then","response","ok","json","Error","status","toString","secret","catch","e","console","log","message","Message","text","secretKey","process","SECRET_KEY","Registration","useState","first","last","email","phone","password","password2","setMessage","useDispatch","history","useHistory","placeholder","value","onChange","target","onClick","newUser","jwt","sign","body","JSON","stringify","registerUser","push","LoginPage","setEmail","setPassword","useSelector","state","loginPressHandler","a","FreePage","freeImg","ProtectedPage","secure","UserTableRow","index","you","scope","AdminPanel","undefined","users","setUsers","your","useEffect","map","Test","login","test","setTest","res","setRes","verify","err","decoded","LogOutPage","Account","edit","setEdit","setYour","disabled","updatedUser","window","confirm","_id","App","localStorage","getItem","exact","path","component","compomemt","initialState","store","createStore","action","composeWithDevTools","applyMiddleware","thunk","getState","next","removeItem","setItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7c1dfd43.chunk.js","sourcesContent":["import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nconst Header = ({user}) => {\n    return (\n\n        <>\n\n\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                <div className=\"container-fluid bg-secondary bg-opacity-50\">\n                    <Link className={`navbar-brand ${user ? \"bg-success\" : \"bg-secondary\"} rounded p-2 m-2 text-light`}\n                          to=\"/\">\n                        <i className=\"bi bi-door-open\"></i>\n                        Auth-app\n                    </Link>\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarText\"\n                            aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"collapse navbar-collapse\" id=\"navbarText\">\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link active\" to=\"/free\">Free Page</Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className={`nav-link ${user ? \"active\" : \"disabled\"}`} aria-current=\"page\"\n                                      to=\"/protected\">Protected Page</Link>\n                            </li>\n                            {user ?\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link active\" to=\"/logout\">Log Out</Link>\n                                </li>\n                                :\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link active\" to=\"/login\">Login</Link>\n                                </li>\n                            }\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link active\" to=\"/registration\">Registration</Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className={`nav-link ${user ? \"active\" : \"disabled\"}`} to=\"/admin\">Admin Panel</Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className={`nav-link ${user ? \"active\" : \"disabled\"}`} to=\"/account\">Your\n                                    Account</Link>\n                            </li>\n                        </ul>\n\n                    </div>\n                </div>\n            </nav>\n\n        </>\n\n)\n    ;\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/undraw_Profile_re_4a55.4e1e88da.svg\";","import React from 'react';\nimport homeImg from '../img/undraw_Profile_re_4a55.svg'\n\nconst Home = () => {\n    return (\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col bg-secondary text-center m-1 p-1 rounded text-light\">\n                    <h2>This is Home Page!</h2>\n                    <h2>All interesting is on Protected Page!!!</h2>\n                    <img src={homeImg} alt=\"home\" className=\"rounded\"/>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Home;","export const SET_USER = \"SET_USER\";\nexport const SET_TOKEN = \"SET_TOKEN\";\nexport const LOGOUT = \"LOGOUT\";\nexport const SET_ERROR = \"SET_ERROR\";\nexport const url = \"https://auth-app-server.herokuapp.com\";\n\n\nexport const setUser = (user) => ({\n    type: SET_USER,\n    payload: user\n})\n\nexport const setToken = (token) => ({\n    type: SET_TOKEN,\n    payload: token\n})\n\nexport const logOut = () => {\n    return ({\n        type: LOGOUT\n    })\n}\n\nexport const setError = (isError) => {\n    return ({\n        type: SET_ERROR,\n        payload: isError\n    })\n}\n\nexport const getUser = (token) => {\n    return (dispatch) => {\n        fetch(url + \"/account/login\", {\n            method: \"GET\",\n            headers: {\n                Authorization: token\n            }\n        })\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error(response.status.toString());\n                }\n            })\n            .then(user => {\n                if (user) {\n                    dispatch(setError(false));\n                    dispatch(setUser(user));\n                    dispatch(setToken(user.secret));\n                } else {\n                    dispatch(setError(true));\n                }\n            }).catch(e => {\n            dispatch(setError(true));\n            console.log(e.message);\n\n        });\n    }\n}\n\nexport const registerUser = (newUser) => {\n    return (dispatch) => {\n        fetch(url + \"/account/register\", {\n            method: 'POST',\n            body: JSON.stringify(newUser),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                if (response.ok) {\n                    console.log(\"user registered\")\n                    return response.json();\n                } else {\n                    throw new Error(response.status.toString());\n                }\n            })\n            .then(user => {\n                dispatch(setUser(user));\n                dispatch(setToken(user.secret));\n            }).catch(e => console.log(e.message));\n    }\n}\n\nfunction createToken(login, oldPass) {\n    return \"\";\n}\n\nexport const changePass = (oldPass, newPass) => {\n    return (dispatch, getState) => {\n        fetch(url + \"/account/user/password\", {\n            method: \"PUT\",\n            headers: {\n                Authorization: createToken(getState().user.login, oldPass), //токен созданый старым паролем, который ввели и и логином из стейта\n                'New-Password': newPass\n            }\n        })\n            .then(response => {\n                if (response.ok) {\n                    const newToken = \"\";\n                    dispatch(setToken(newToken));\n                } else {\n                    throw new Error(response.status.toString());\n                }\n            })\n    }\n}\nexport const updateUser = (updatedUser, token) => {\n    return (dispatch) => {\n        fetch(url + \"/account/update\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: token\n            },\n            body: JSON.stringify(updatedUser),\n\n        })\n            .then(response => {\n                if (response.ok) {\n                    console.log(\"user updated\");\n                    return response.json();\n                } else {\n                    throw new Error(response.status.toString());\n                }\n            })\n            .then(user => {\n                dispatch(setUser(user));\n            }).catch(e => {\n            console.log(e.message);\n        });\n    }\n}\n\nexport const deleteUser = (id, token) => {\n    return (dispatch) => {\n        fetch(url + \"/account/\" + id, {\n            method: 'DELETE',\n            headers: {\n                Authorization: token\n            }\n        })\n            .then(response => {\n                if (response.ok) {\n                    dispatch(setError(true));\n                    dispatch(logOut());\n                    console.log(`User with id: ${id} deleted`);\n                } else {\n                    throw new Error(response.status.toString());\n                }\n            })\n    }\n}\n","import React from 'react';\n\nconst Message = ({text}) => {\n    return (\n        <div className=\"row g-3 justify-content-center\">\n            <div className=\"col-auto m-3\">\n                <h2>{text}</h2>\n            </div>\n        </div>\n    );\n};\n\nexport default Message;","import React, {useState} from 'react';\nimport jwt from \"jsonwebtoken\";\nimport {useDispatch} from \"react-redux\";\nimport {registerUser} from \"../redux/actions\";\nimport {useHistory} from \"react-router-dom\";\nimport Message from \"./Message\";\n\nexport const secretKey = process.env.SECRET_KEY || \"auth-app\";\n\nconst Registration = () => {\n\n    const initialUser = {\n        first: \"\",\n        last: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        password2: \"\"\n    }\n\n    const [user, setUser] = useState({...initialUser});\n\n    const [message, setMessage] = useState(\"Please fill form to register a new user. All fields are required.\");\n\n    const dispatch = useDispatch();\n\n    const history = useHistory();\n\n     const registrationHandler = () => {\n        if (user.first && user.last && user.email && user.phone && user.password && user.password2) {\n            if (user.password === user.password2) {\n                const newUser = {\n                    first: user.first,\n                    last: user.last,\n                    email: user.email,\n                    phone: user.phone\n                };\n                const email = user.email;\n                const password = user.password;\n                newUser.secret = jwt.sign({email,password}, secretKey);\n                dispatch(registerUser(newUser));\n                setMessage(\"Loading...\");\n                history.push(\"/\");\n            } else {\n                setMessage(\"Type same password 2 times.\");\n            }\n        } else {\n            setMessage(\"All fields are required.\");\n        }\n\n    }\n\n    return (\n        <div className=\"container\">\n            {message ? <Message text={message}/> : <></>}\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto m-3\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Your First Name\"\n                        value={user.first}\n                        onChange={(e) => setUser({...user, first: e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto m-3\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Your Last Name\"\n                        value={user.last}\n                        onChange={(e) => setUser({...user, last: e.target.value})}\n                    />\n                </div>\n            </div>\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto m-3\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Email - this'll be login\"\n                        value={user.email}\n                        onChange={(e) => setUser({...user, email: e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto m-3\">\n                    <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Your Phone Number\"\n                        value={user.phone}\n                        onChange={(e) => setUser({...user, phone: e.target.value})}\n                    />\n                </div>\n            </div>\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto m-3\">\n                    <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Password\"\n                        value={user.password}\n                        onChange={(e) => setUser({...user, password: e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto m-3\">\n                    <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Again Password\"\n                        value={user.password2}\n                        onChange={(e) => setUser({...user, password2: e.target.value})}\n                    />\n                </div>\n\n            </div>\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto\">\n                    <button type=\"submit\" className=\"btn btn-primary mb-3\" onClick={registrationHandler}>Registration\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Registration;","import React, {useState} from 'react';\nimport jwt from \"jsonwebtoken\";\nimport {secretKey} from \"./Registration\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUser} from \"../redux/actions\";\nimport {useHistory} from \"react-router-dom\";\nimport Message from \"./Message\";\n\nconst LoginPage = () => {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const [message, setMessage] = useState(\"Please fill your email and password to Log in.\");\n\n    const dispatch = useDispatch();\n\n    const history = useHistory();\n\n    const isError = useSelector(state => state.isError);\n    const user = useSelector(state => state.user);\n\n\n    const loginPressHandler = async () => {\n        setMessage(\"Loading...\")\n        if (email && password) {\n            const token = jwt.sign({email, password}, secretKey);\n            dispatch(await getUser(token));\n            setEmail(\"\");\n            setPassword(\"\");\n            console.log(\"login\");\n\n            if (isError && !user) {\n                setMessage(\"Wrong login/password.\");\n            } else {\n                history.push(\"/\");\n            }\n        } else {\n            setMessage(\"All fields are required!\");\n        }\n\n\n    }\n\n    return (\n        <div className=\"container\">\n            {message ? <Message text={message}/> : <></>}\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                </div>\n                <div className=\"col-auto\">\n                    <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                </div>\n                <div className=\"col-auto\">\n                    <button type=\"submit\" className=\"btn btn-primary mb-3\" onClick={loginPressHandler}>Log in</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n;\n\nexport default LoginPage;","export default __webpack_public_path__ + \"static/media/undraw_feeling_proud_qne1.fca7d373.svg\";","import React from 'react';\nimport freeImg from \"../img/undraw_feeling_proud_qne1.svg\";\n\nconst FreePage = () => {\n    return (\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col bg-secondary text-center m-1 p-1 rounded text-light\">\n                    <h2>This is free page! Anyone can visit this route!!!</h2>\n                    <img src={freeImg} alt=\"free\" className=\"rounded\"/>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default FreePage;","export default __webpack_public_path__ + \"static/media/undraw_security_o890.0e00543e.svg\";","import React from 'react';\nimport secure from \"../img/undraw_security_o890.svg\";\n\nconst ProtectedPage = () => {\n    return (\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col bg-secondary text-center m-1 p-1 rounded text-light\">\n                    <h2>This is Protected page! Only authorised users can visit this route!!!</h2>\n                    <img src={secure} alt=\"protected\" className=\"rounded\"/>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProtectedPage;","import React, {useEffect, useState} from 'react';\nimport {url} from \"../redux/actions\";\nimport Message from \"./Message\";\nimport {useSelector} from \"react-redux\";\n\nconst UserTableRow = ({user,index,you}) => {\n    return(\n        <tr className={you ? \"table-success\" : \"\"}>\n            <th scope=\"row\">{index}</th>\n            <td>{user.first}</td>\n            <td>{user.last}</td>\n            <td>{user.phone}</td>\n            <td>{user.email}</td>\n        </tr>\n    )\n}\n\nconst AdminPanel = () => {\n\n    const [users,setUsers] = useState(undefined);\n\n    const [message, setMessage] = useState(\"Loading...\");\n\n    const your = useSelector(state => state.user);\n\n\n    useEffect(() => {\n        if(!users){\n            fetch(url + \"/account\",{\n                method: \"GET\"\n            })\n                .then(response => {\n                    if (response.ok) {\n                        return response.json();\n                    } else {\n                        throw new Error(response.status.toString());\n                    }\n                })\n                .then(users => {\n                    setMessage(\"Here we got list of all users.\")\n                    setUsers(users);\n                }).catch(e => console.log(e.message));\n\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[]);\n\n    return (\n        <div className=\"container\">\n            {message ? <Message text={message}/> : <></>}\n            <table className=\"table\">\n                <thead>\n                <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">First Name</th>\n                    <th scope=\"col\">Last Name</th>\n                    <th scope=\"col\">Phone</th>\n                    <th scope=\"col\">Email</th>\n\n                </tr>\n                </thead>\n                <tbody>\n                {users && your ? users.map((user,index) => <UserTableRow you={your.email === user.email} user={user} index={index+1} key={index}/>) : <></>}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default AdminPanel;","import React, {useState} from 'react';\nimport jwt from 'jsonwebtoken';\n\nconst Test = () => {\n\n    const [test,setTest] = useState({login:\"\",password:\"\"});\n    const [token,setToken] = useState(\"\");\n    const [res,setRes] = useState();\n\n    const createTokenHandler = () => {\n     const token = jwt.sign({test},'secret');\n     setToken(token);\n    }\n\n    const x = () => {\n        jwt.verify(token,'secret', (err,decoded)=> {\n            if(err){\n                throw new Error(err.message);\n            } else {\n                setRes({...decoded});\n            }\n        });\n    }\n\n\n    return (\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-auto\">\n                    <h3>TOKEN: {token ? token : \"No TOKEN\"}</h3>\n                </div>\n            </div>\n            <div className=\"row justify-content-center\">\n                <div className=\"col-auto\">\n                    <button className=\"btn btn-primary mb-3\" onClick={x}>Verify TOKEN</button>\n                    <h3>Decoded TOKEN: {res ? res.test.login + \" \" + res.test.password : \"No res\"}</h3>\n                </div>\n            </div>\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"login\"\n                        value={test.login}\n                        onChange={(e)=>setTest({...test,login:e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Password\"\n                        value={test.password}\n                        onChange={(e)=>setTest({...test,password:e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto\">\n                    <button className=\"btn btn-primary mb-3\" onClick={createTokenHandler}>Create TOKEN</button>\n                </div>\n            </div>\n\n        </div>\n    )\n};\n\nexport default Test;","import React from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {logOut} from \"../redux/actions\";\nimport {useHistory} from \"react-router-dom\";\n\nconst LogOutPage = () => {\n\n    const dispatch = useDispatch();\n\n    const history = useHistory();\n\n    const logOutPressHandler = () => {\n        dispatch(logOut());\n        history.push(\"/\");\n\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto text-center\">\n                    <h3>Be carefull, after log out you will lose access to \"Protected\" Page!</h3>\n                    <button type=\"submit\" className=\"btn btn-primary mb-3\" onClick={logOutPressHandler}>Log Out</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default LogOutPage;","import React, {useEffect, useState} from 'react';\nimport Message from \"./Message\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {deleteUser, updateUser} from \"../redux/actions\";\nimport {useHistory} from \"react-router-dom\";\n\nconst Account = () => {\n\n    const [message, setMessage] = useState(\"Loading...\");\n    const [edit, setEdit] = useState(true)\n    const [your, setYour] = useState({\n        first: \"\",\n        last: \"\",\n        phone: \"\"\n    });\n\n     const you = useSelector(state => state.user);\n\n    useEffect(() => {\n        if (you) {\n            setYour(you);\n            setMessage(`Your email - ${you.email} is your login and it can not be changed. `);\n        }\n    }, [you]);\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const editClickHandler = () => {\n        setEdit(false);\n        setMessage(\"Click save to apply changes.\");\n\n    }\n\n    const cancelClickHandle = () => {\n        setEdit(true);\n        setYour(you);\n        setMessage(`Your email - ${you.email} is your login and it can not be changed. `);\n    }\n\n    const saveClickHandler = () => {\n        if(your.first && your.last && your.phone ){\n            setEdit(true);\n            dispatch(updateUser(your,you.secret));\n\n\n        }\n    }\n    const deleteClickHandler = () => {\n        if(window.confirm(\"Are you sure? Delete Your account and all your data?\")){\n                dispatch(deleteUser(you._id,you.secret));\n                history.push(\"/\");\n        }\n    }\n\n\n    return (\n        <div className=\"container\">\n            {message ? <Message text={message}/> : <></>}\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto m-3\">\n                    <input\n                        disabled={edit}\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Your First Name\"\n                        value={your.first}\n                        onChange={(e) => setYour({...your, first: e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto m-3\">\n                    <input\n                        disabled={edit}\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Your Last Name\"\n                        value={your.last}\n                        onChange={(e) => setYour({...your, last: e.target.value})}\n                    />\n                </div>\n                <div className=\"col-auto m-3\">\n                    <input\n                        disabled={edit}\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Your Phone Number\"\n                        value={your.phone}\n                        onChange={(e) => setYour({...your, phone: e.target.value})}\n                    />\n                </div>\n            </div>\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto\">\n                    <button className=\"btn btn-primary m-1\" onClick={edit ? editClickHandler : cancelClickHandle}>\n                        {edit ? \"Edit\" : \"Cancel\"}\n                    </button>\n                    <button className={`btn btn-primary m-1 ${edit ? \"invisible\" : \"\"}`} onClick={saveClickHandler}>\n                        {\"Save\"}\n                    </button>\n                </div>\n            </div>\n            <div className=\"row g-3 justify-content-center\">\n                <div className=\"col-auto\">\n                    <button className=\"btn btn-danger m-1\" onClick={deleteClickHandler}>Delete Account\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Account;","import React, {useEffect} from \"react\";\nimport Header from \"./components/Header\";\nimport {Route, Switch} from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport LoginPage from \"./components/LoginPage\";\nimport FreePage from \"./components/FreePage\";\nimport ProtectedPage from \"./components/ProtectedPage\";\nimport AdminPanel from \"./components/AdminPanel\";\nimport Registration from \"./components/Registration\";\nimport Test from \"./components/TEST\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUser} from \"./redux/actions\";\nimport LogOutPage from \"./components/LogOutPage\";\nimport Account from \"./components/Account\";\n\n\nfunction App() {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            dispatch(getUser(token));\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const user = useSelector(state => state.user);\n\n    return (\n        <div className=\"App\">\n            <Header user={user}/>\n            <Switch>\n                <Route exact path=\"/\" component={Home}/>\n                <Route exact path=\"/login\" component={user ? Home : LoginPage}/>\n                <Route exact path=\"/registration\" component={Registration}/>\n                <Route exact path=\"/admin\" component={AdminPanel}/>\n                <Route exact path=\"/protected\" component={user ? ProtectedPage : Home}/>\n                <Route exact path=\"/free\" component={FreePage}/>\n                <Route exact path=\"/test\" compomemt={Test}/>\n                <Route exact path=\"/logout\" component={LogOutPage}/>\n                <Route exact path=\"/account\" component={Account}/>\n                <Route path=\"*\" component={() => <h2 className=\"text-center\">404 NOT FOUND</h2>}/>\n            </Switch>\n            <p className=\"m-1 text-center\"> Auth-app site. Made by Mikhail Lapshin. ©All rights reserved 2021</p>\n        </div>\n    );\n}\n\nexport default App;\n","import {LOGOUT, SET_ERROR, SET_TOKEN, SET_USER} from \"./actions\";\n\nconst initialState = {isError: true}\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER:\n            return {...state, user:action.payload};\n        case SET_ERROR:\n            return {...state, isError: action.payload};\n        case LOGOUT:\n            return {isError: true};\n        case SET_TOKEN:\n        default:\n            return state;\n    }\n}","import {applyMiddleware, createStore} from \"redux\";\nimport {reducer} from \"./reducer\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {tokenEnhancer} from \"./tokenEnhancer\";\nimport thunk from \"redux-thunk\";\n\nexport const store = createStore(reducer,composeWithDevTools(applyMiddleware(thunk, tokenEnhancer)));","import {LOGOUT, SET_TOKEN, setError} from \"./actions\";\n\nexport const tokenEnhancer = ({dispatch, getState}) => (next) => (action) => {\n    switch (action.type) {\n        case LOGOUT:\n            localStorage.removeItem('token');\n            break;\n        case SET_TOKEN:\n            localStorage.setItem('token', action.payload);\n            break;\n        default:\n            break;\n    }\n    return next(action);\n}","import React from 'react';\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/store\";\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter>\n            <App/>\n        </HashRouter>\n    </Provider>,\n    document.getElementById('root'));\n"],"sourceRoot":""}